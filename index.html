<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>To my princess ‚ù§Ô∏è</title>

<style>

body {
  margin: 0;
  font-family: Arial, sans-serif;
  text-align: center;
  color: white;
  overflow: hidden;
  background: linear-gradient(135deg, #7a0000, #c4002f);
}

/* ---------- Screens ---------- */

.screen {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/* ---------- Buttons ---------- */

button {
  font-size: 22px;
  padding: 15px 28px;
  margin: 20px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: transform .15s;
}

button:hover { transform: scale(1.05); }

.primary { background: #ff4d6d; color: white; }
.gray { background: #777; color: white; }

.buttonRow {
  display: flex;
  gap: 30px;
  margin-top: 20px;
}

/* ---------- Game ---------- */

#gameArea { display: none; position: relative; width: 100vw; height: 100vh; }

.heart {
  position: absolute;
  font-size: 46px;
  cursor: pointer;
  user-select: none;
}

#scoreBox {
  position: fixed;
  top: 15px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 20px;
  background: rgba(255,255,255,0.95);
  color: black;
  padding: 10px 20px;
  border-radius: 12px;
}

/* ---------- Floating Hearts ---------- */

.floatHeart {
  position: fixed;
  bottom: -40px;
  font-size: 26px;
  animation: floatUp 6s linear forwards;
  pointer-events: none;
}

@keyframes floatUp {
  to {
    transform: translateY(-110vh);
    opacity: 0;
  }
}

/* ---------- Confetti ---------- */

.confetti {
  position: fixed;
  width: 8px;
  height: 8px;
  top: -10px;
  animation: confall 3s linear forwards;
}

@keyframes confall {
  to {
    transform: translateY(110vh) rotate(720deg);
  }
}

/* ---------- Hidden Screens ---------- */

#caughtMsg { display: none; }
#proposal { display: none; }

h1, h2 {
  text-shadow: 0 4px 18px rgba(0,0,0,0.5);
}

#tease {
  margin-top: 10px;
  font-size: 18px;
  opacity: .9;
}

</style>
</head>

<body>

<!-- START -->
<div id="startScreen" class="screen">
  <h1>Hey there princess üòÑ</h1>
  <h2>You up for a little action?</h2>
  <button class="primary" onclick="startGame()">START MISSION ‚ù§Ô∏è</button>
</div>

<!-- GAME -->
<div id="gameArea">
  <div id="scoreBox">Hearts caught: 0 / 6</div>
  <div class="screen">
    <h2>Catch the hearts before they escape üíñ</h2>
  </div>
</div>

<!-- MESSAGE -->
<div id="caughtMsg" class="screen">
  <h1>Hold on üòÑ</h1>
  <h2>My heart already belongs to you‚Ä¶</h2>
  <h2>but thanks for catching more üíñ</h2>
  <button class="primary" onclick="showProposal()">Continue ‚Üí</button>
</div>

<!-- PROPOSAL -->
<div id="proposal" class="screen">
  <h1>Final Question üíò</h1>
  <h2>Will you be my Valentine, princess?</h2>

  <div class="buttonRow">
    <button class="primary" onclick="yes()">YES ‚ù§Ô∏è</button>
    <button id="noBtn" class="gray">NO üôÉ</button>
  </div>

  <div id="tease"></div>
</div>

<script>
let score = 0;
const target = 6;
let gameInterval;

const teaseLines = [
  "Nice try üòè",
  "Nope nope nope üòÇ",
  "That button is shy",
  "It refuses rejection",
  "Destiny says YES",
  "Caught you üòÑ",
  "Access denied üòÇ",
  "The NO button is on leave",
  "Even the button ships us",
  "This is a YES-only zone",
];

/* ---------- Game ---------- */

function startGame() {
  document.getElementById("startScreen").style.display = "none";
  document.getElementById("gameArea").style.display = "block";
  gameInterval = setInterval(spawnHeart, 650);
}

function spawnHeart() {
  if (score >= target) return;

  const heart = document.createElement("div");
  heart.className = "heart";
  heart.innerHTML = "üíñ";
  heart.style.left = Math.random() * 95 + "vw";
  heart.style.top = "-40px";

  document.getElementById("gameArea").appendChild(heart);

  let fall = setInterval(() => {
    heart.style.top = (heart.offsetTop + 4) + "px";
    if (heart.offsetTop > window.innerHeight) {
      heart.remove();
      clearInterval(fall);
    }
  }, 18);

  heart.onclick = () => {
    score++;
    document.getElementById("scoreBox").innerText =
      `Hearts caught: ${score} / ${target}`;
    heart.remove();
    clearInterval(fall);
    if (score >= target) showCaughtMessage();
  };
}

/* ---------- Flow ---------- */

function showCaughtMessage() {
  clearInterval(gameInterval);
  document.getElementById("gameArea").style.display = "none";
  document.getElementById("caughtMsg").style.display = "flex";
}

function showProposal() {
  document.getElementById("caughtMsg").style.display = "none";
  document.getElementById("proposal").style.display = "flex";
  startFloatingHearts();

  const noBtn = document.getElementById("noBtn");
  const tease = document.getElementById("tease");

  noBtn.onmouseover = () => {
    noBtn.style.position = "absolute";
    noBtn.style.left = Math.random() * 70 + "vw";
    noBtn.style.top = Math.random() * 70 + "vh";
    tease.innerText =
      teaseLines[Math.floor(Math.random()*teaseLines.length)];
  };
}

/* ---------- Floating Hearts ---------- */

function startFloatingHearts() {
  setInterval(() => {
    const h = document.createElement("div");
    h.className = "floatHeart";
    h.innerHTML = "üíó";
    h.style.left = Math.random()*100 + "vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),6000);
  }, 500);
}

/* ---------- Confetti ---------- */

function confettiBurst() {
  for(let i=0;i<120;i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random()*100+"vw";
    c.style.background =
      ["#ff4d6d","#ffd166","#06d6a0","#118ab2","#ef476f"]
      [Math.floor(Math.random()*5)];
    c.style.animationDuration = (2+Math.random()*2)+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}

/* ---------- YES ---------- */

function yes() {
  confettiBurst();
  document.body.innerHTML =
    "<div class='screen'><h1>YAYYY üòç</h1><h2>You made someone really happy!! üíù</h2><h2>Happy Valentine‚Äôs, my forever Valentine ‚ù§Ô∏è</h2></div>";
}
</script>

</body>
</html>
